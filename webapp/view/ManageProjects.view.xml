<mvc:View
	controllerName="micro.crm.frontend.controller.ManageProjects"
	xmlns:mvc="sap.ui.core.mvc"
	 xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
	xmlns="sap.m"   
	displayBlock="true"
	height="100%"
	busyIndicatorDelay="0"
>


	<Page showHeader="false" enableScrolling="true" class="sapUiContentPadding"
		showNavButton="false">

		 <content>
          <f:FlexibleColumnLayout layout="{projectLayoutView>/layout}">
                <f:beginColumnPages>
                    <Page showHeader="false">
                        <content>
  <Table 
                id="idManageProjectsTable"
                items="{
        path: 'AppState>/projects',
        sorter: { path: 'createdat', descending: true }
    }">
                <columns>
                    <Column><Text text="Project Title"/></Column>
                    <Column><Text text="Project Description"/></Column>
                      <Column><Text text="Client Name"/></Column>
                    <Column><Text text="Project Start Date"/></Column>
                    <Column><Text text="Project End Date"/></Column>
                    <Column><Text text="Project Status"/></Column>
                  
                </columns>
                <items>
                    <ColumnListItem 
                        type="Navigation" 
                        press="onDetailPress">
                        <cells>
                            <ObjectIdentifier title="{AppState>name}"/>
                            <Text text="{AppState>description}"/>
                            <Text text="{
                                path: 'AppState>client',
                                formatter: '.formatClientName'
                            }"/>
                            <Text text="{
                                path: 'AppState>startdate',
                                formatter: '.formatDate'
                            }"/>
                            <Text text="{
                                path: 'AppState>enddate',
                                formatter: '.formatDate'
                            }"/>
                            <ObjectStatus 
                                text="{AppState>status}"
                                state="{
                                    path: 'AppState>status',
                                    formatter: '.formatStatusState'
                                }"/>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

           
                        </content>
                    </Page>
                </f:beginColumnPages>

                <f:midColumnPages>
                    <core:Fragment
                        fragmentName="micro.crm.frontend.fragment.AddProjectDetails"
                        type="XML"
                    />
                </f:midColumnPages>

                <f:endColumnPages />
            </f:FlexibleColumnLayout>
        </content>
	</Page>
</mvc:View>