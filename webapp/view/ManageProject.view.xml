<mvc:View
    controllerName="framsys.com.framsysfrontend.controller.ManageProject"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:grid="sap.ui.layout.cssgrid"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:mc="sap.suite.ui.microchart"
    xmlns:fb="sap.ui.comp.filterbar"
>
    <Page
        id="_IDGenPage2"
        title="Projects"
        showHeader="false"
    >
        <content>
            <f:FlexibleColumnLayout layout="{projectLayoutView>/layout}">
                <f:beginColumnPages>
                    <Page showHeader="false">
                        <content>
                            <!-- <OverflowToolbar height="3rem">
							<Title text="Projects(1)" class="sapUiLargeMarginBegin"/>
							<ToolbarSpacer/>

						</OverflowToolbar> -->
                            <f:GridList
                                id="gridList"
                                mode="None"
                                growingThreshold="10"
                                growing="true"
                                growingDirection="Downwards"
                                growingScrollToLoad="true"
                                items="{
        path: 'AppState>/aProjects',
        sorter: { path: 'createdAt', descending: true }
    }"
                                selectionChange="onSelectionChange"
                                delete="onDelete"
                                class="sapUiResponsiveContentPadding"
                            >
                                <f:customLayout>
                                    <grid:GridBasicLayout
                                        gridAutoRows="repeat(auto-fit)"
                                        gridGap="0.5rem"
                                    />
                                </f:customLayout>

                                <f:GridListItem
                                    detailPress="onDetailPress"
                                    press="onPress"
                                    highlight="Success"
                                    type="Active"
                                >
                                    <l:VerticalLayout
                                        class="sapUiContentPadding equalColumns"
                                        width="100%"
                                    >
                                        <FlexBox class="columns">
                                            <Title
                                                text="{AppState>name}"
                                                wrapping="true"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </Title>

                                            <ObjectAttribute
                                                title="Planned Start"
                                                text="{AppState>planned_start}"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectAttribute>

                                            <ObjectAttribute
                                                title="Planned End"
                                                text="{AppState>planned_finish}"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectAttribute>

                                            <ObjectStatus
                                                title="Status"
                                                text="{AppState>status}"
                                                state="Warning"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectStatus>

                                            <VBox>
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                                <Label
                                                    text="Percentage of Completion"
                                                />
                                                <mc:RadialMicroChart
                                                    size="M"
                                                    percentage="{AppState>pct_complete}"
                                                    valueColor="Good"
                                                    press="press"
                                                    class="sapUiSmallMargin"
                                                />
                                            </VBox>

                                            <mc:DeltaMicroChart
                                                size="M"
                                                press="press"
                                                value1="-7"
                                                value2="16"
                                                title1="{AppState>planned_start}"
                                                title2="{AppState>fore_act_start}"
                                                displayValue1="Planned"
                                                displayValue2="Forecasted"
                                                 deltaDisplayValue="{
        parts: [
            { path: 'AppState>planned_start' },
            { path: 'AppState>planned_finish' }
        ],
        formatter: '.calculateDeltaInMonths'
    }"
                                                color="Critical"
                                                class="sapUiSmallMargin"
                                            />
                                        </FlexBox>
                                    </l:VerticalLayout>
                                </f:GridListItem>
                            </f:GridList>
                        </content>
                    </Page>
                </f:beginColumnPages>

                <f:midColumnPages>
                    <core:Fragment
                        fragmentName="framsys.com.framsysfrontend.fragment.ProjectDetails"
                        type="XML"
                    />
                </f:midColumnPages>

                <f:endColumnPages />
            </f:FlexibleColumnLayout>
        </content>
    </Page>
</mvc:View>
