<mvc:View controllerName="micro.crm.frontend.controller.App" displayBlock="true"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:tnt="sap.tnt">
    <Page showHeader="false">
        <tnt:ToolPage id="toolpage" class="sapUiDemoToolPage backgorund" sideExpanded="false"  >
            <tnt:header  >
                <tnt:ToolHeader visible="{= ${AppState>/currentPage} !== 'login' }">
                    <Button id="sideNavigationToggleButton" icon="sap-icon://menu2" type="Transparent" press=".onSideNavButtonPress" tooltip="{i18n>collpaseMenuButtonText}"  visible="{= ${AppState>/currentPage} !== 'login' }">
                        <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </Button>
                    <Image src="{imageModel>/logo}" height="30px" decorative="false" press="onLogoPressed" tooltip="SAP Logo" >
                        <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </Image>
                    <ToolbarSpacer/>
                    <Title text="{i18n>appTitle}" level="H2"/>
                    <ToolbarSpacer/>
                   

                </tnt:ToolHeader>


            </tnt:header>

            <tnt:subHeader>
                <tnt:ToolHeader>

    <ToolbarSpacer/>
    <ToolbarSpacer/>

 <SearchField  placeholder="Search Anything" width="30%" id="idGlobalSearchField"  liveChange="onGlobalSearchFieldLiveChange" visible="{= ${AppState>/currentPage} !== 'login' }">

 <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </SearchField>
                    <!-- <Button type="Accept" text="Kanban" class="sapUiLargeMarginBegin"/>
                    <Button type="Critical" text="" icon="sap-icon://add" class="sapUiTinyMargin"/> -->
                    <ToolbarSpacer/>
                    
                  <Label text="{AppState>/currentPageLabel}" class="sapUiLargeMarginBegin"/>
                    <ToolbarSpacer/>
                      <Button icon="sap-icon://add" class="sapUiTinyMargin" text="Create" type="Critical" press="onAddNewItem" id="GlobalAddButton" visible="{AppState>/globalCreateButtonVisibility}"/>
                    <!-- <Button text="Back to Roadmap" class="sapUiTinyMargin" type="Critical" press="onBackToRoadmap"  visible="{AppState>/showBackToRoadmapButton}"/>
                   -->
                    <!-- <Button type="Critical"  icon="sap-icon://add-filter" class="sapUiTinyMargin"/> -->
                   

                </tnt:ToolHeader>
            </tnt:subHeader>

            <tnt:sideContent visible="{= ${AppState>/currentPage} !== 'login' }">
                <tnt:SideNavigation expanded="true" selectedKey="{sideContentModel>/selectedKey}" itemSelect=".onSelect" visible="{= ${AppState>/currentPage} !== 'login' }">
                    <tnt:NavigationList items="{path: 'sideContentModel>/navigation'}">
                        <tnt:NavigationListItem text="{sideContentModel>title}" icon="{sideContentModel>icon}" visible="{sideContentModel>visible}" enabled="{sideContentModel>enabled}" expanded="{sideContentModel>expanded}" items="{sideContentModel>items}" key="{sideContentModel>key}">
                            <tnt:NavigationListItem text="{sideContentModel>title}"  key="{sideContentModel>key}" icon="{sideContentModel>icon}" enabled="{sideContentModel>enabled}" />
                        </tnt:NavigationListItem>
                    </tnt:NavigationList>
                    <tnt:fixedItem>
                        <tnt:NavigationList >
                         <tnt:NavigationListItem text="Settings" icon="sap-icon://action-settings" select=".onSettingsPress" />
                            <tnt:NavigationListItem icon="sap-icon://customer" select=".onSettingsPress" text="{AppState>/user/name}"/>
                        </tnt:NavigationList>
                       
                    </tnt:fixedItem>
                </tnt:SideNavigation>
            </tnt:sideContent>
            <tnt:mainContents>
                <App id="app"/>
                <!--  <App id="mainContents"/>  -->
                <!--  <App><f:FlexibleColumnLayout id="mainContents"/></App>  -->
            </tnt:mainContents>
        </tnt:ToolPage>
    </Page>
</mvc:View>