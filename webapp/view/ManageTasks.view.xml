<mvc:View
	controllerName="micro.crm.frontend.controller.ManageTasks"
	xmlns:mvc="sap.ui.core.mvc"
	 xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
	xmlns="sap.m"   xmlns:l="sap.ui.layout"  xmlns:grid="sap.ui.layout.cssgrid"
	displayBlock="true"
	height="100%"
	busyIndicatorDelay="0"
>


	<Page showHeader="false" enableScrolling="true" class="sapUiContentPadding"
		showNavButton="false">

		 <content>
            <f:FlexibleColumnLayout layout="{TaskLayoutView>/layout}">
                <f:beginColumnPages>
                    <Page showHeader="false">
                        <content>
                            
                            <f:GridList
                                id="gridList"
                                mode="None"
                                growingThreshold="10"
                                growing="true"
                                growingDirection="Downwards"
                                growingScrollToLoad="true"
                                items="{
        path: 'AppState>/tasks',
        sorter: { path: 'createdat', descending: true }
    }"
                                selectionChange="onSelectionChange"
                                delete="onDelete"
                                class="sapUiResponsiveContentPadding"
                            >
                                <f:customLayout>
                                    <grid:GridBasicLayout
                                        gridAutoRows="repeat(auto-fit)"
                                        gridGap="0.5rem"
                                    />
                                </f:customLayout>

                                <f:GridListItem
                                    detailPress="onDetailPress"
                                    press="onPress"
                                    highlight="Success"
                                    type="Active"
                                >
                                    <l:VerticalLayout
                                        class="sapUiContentPadding equalColumns"
                                        width="100%"
                                    >
                                        <FlexBox class="columns">
                                            <Title
                                                text="{AppState>name}"
                                                wrapping="true"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </Title>

                                            <ObjectAttribute
                                                title="Description"
                                                text="{AppState>description}"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectAttribute>

                                            <ObjectAttribute
                                                title="Project"
                                                text="{AppState>project}"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectAttribute>

											<ObjectAttribute
                                                title="Due Date"
                                                text="{AppState>duedate}"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectAttribute>

                                            <ObjectStatus
                                                title="Status"
                                                text="{AppState>status}"
                                                state="Warning"
                                            >
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                            </ObjectStatus>

                                            <VBox>
                                                <layoutData>
                                                    <FlexItemData
                                                        growFactor="1"
                                                        baseSize="0"
                                                        backgroundDesign="Transparent"
                                                        styleClass="sapUiTinyMargin"
                                                    />
                                                </layoutData>
                                              
                                              
								

                                            </VBox>

                                            
                                        </FlexBox>
                                    </l:VerticalLayout>
                                </f:GridListItem>
                            </f:GridList>
                        </content>
                    </Page>
                </f:beginColumnPages>

                <f:midColumnPages>
                    <core:Fragment
                        fragmentName="micro.crm.frontend.fragment.AddTaskDetails"
                        type="XML"
                    />
                </f:midColumnPages>

                <f:endColumnPages />
            </f:FlexibleColumnLayout>
        </content>
	</Page>
</mvc:View>