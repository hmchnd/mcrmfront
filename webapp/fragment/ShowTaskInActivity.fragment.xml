<core:FragmentDefinition
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
>
    <Dialog>
        <content>
            <form:SimpleForm
                id="simpleformShowTaskDetail"
                editable="true"
                layout="ResponsiveGridLayout"
                title=""
                labelSpanXL="3"
                labelSpanL="3"
                labelSpanM="3"
                labelSpanS="12"
                adjustLabelSpan="false"
                emptySpanXL="4"
                emptySpanL="4"
                emptySpanM="4"
                emptySpanS="0"
                columnsXL="1"
                columnsL="1"
                columnsM="1"
                singleContainerFullSize="false"
            >
                <form:content>
                    <Label
                        text="Task Name"
                        required="true"
                    />
                    <Input
                        id="name"
                        value="{AppState>/showTaskInActivity/name}"
                        editable="false"
                    />
                    <Label text="Description" />
                    <!-- <Input value="Framsys Roadmap" editable="false"/> -->
                    <TextArea
                        id="description"
                        value="{AppState>/showTaskInActivity/description}"
                        editable="false"
                    />
                    <Label
                        text="Planned Start Date"
                        required="true"
                    />
                    <DatePicker
                        id="tstart"
                        value="{path:'AppState>/showTaskInActivity/planned_start', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'MMM dd, yyyy' }}"
                        editable="false"
                    />
                    <Label
                        text="Planned Finish Date"
                        required="true"
                    />
                    <DatePicker
                        id="tend"
                        editable="false"
                        change="onChangeDate"
                        value="{path:'AppState>/showTaskInActivity/planned_finish', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'MMM dd, yyyy' }}"
                    />
                    <Label text="Preceding Task" />
                    <ComboBox
                        id="idPrecedingTask"
                        showSecondaryValues="true"
                        editable="false"
                        selectedKey="{AppState>/showTaskInActivity/precedingTaskID}"
                        items="{
    path: 'AppState>/aTask'
}"
                    >
                        <core:ListItem
                            key="{AppState>ID}"
                            text="{AppState>name}"
                        />
                    </ComboBox>
                    <Label text="Outcome Description" />
                    <TextArea
                        id="outcomeDesc"
                        editable="false"
                    />
                    <Label
                        text="Phase"
                        required="true"
                    />
                    <ComboBox
                        id="idphase"
                        showSecondaryValues="true"
                        editable="false"
                        selectedKey="{AppState>/showTaskInActivity/phase_ID}"
                        items="{
                                            path: 'AppState>/aPhase'
                                        }"
                    >
                        <core:ListItem
                            key="{AppState>ID}"
                            text="{AppState>name}"
                        />
                    </ComboBox>
                    <Label
                        text="Area"
                        required="true"
                    />
                    <ComboBox
                        id="idarea"
                        showSecondaryValues="true"
                        selectedKey="{AppState>/showTaskInActivity/area_ID}"
                        editable="false"
                        items="{
                                            path: 'AppState>/aArea'
                                        }"
                    >
                        <core:ListItem
                            key="{AppState>ID}"
                            text="{AppState>name}"
                        />
                    </ComboBox>
                    <Label
                        text="Weight"
                        required="true"
                    />
                    <Input
                        id="weight"
                        value="{AppState>/showTaskInActivity/pct_weight}"
                        editable="false"
                    />
                    <Label text="Forecasted Start Date" />
                    <DatePicker
                        id="idforecastedstart"
                        editable="false"
                        value="{path:'AppState>/showTaskInActivity/fore_act_start', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'MMM dd, yyyy' }}"
                    />
                    <Label text="Forecasted Finish Date" />
                    <DatePicker
                        id="idforecastedfinish"
                        editable="false"
                        value="{path:'AppState>/showTaskInActivity/fore_act_finish', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'MMM dd, yyyy' }}"
                    />
                    <Label text="Actual Start Date" />
                    <DatePicker
                        editable="false"
                        value="{path:'AppState>/showTaskInActivity/actualStart', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'MMM dd, yyyy' }}"
                    />
                    <Label text="Actual Finish Date" />
                    <DatePicker
                        editable="false"
                        value="{path:'AppState>/showTaskInActivity/actualFinish', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'MMM dd, yyyy' }}"
                    />
                    <Label text="Percentage of Completion" />
                    <Input
                        value="{path: 'AppState>/showTaskInActivity/pct_complete', formatter: '.formatPercentage'}"
                        editable="false"
                    />

                    <Label
                        text="Responsible"
                        required="true"
                    />
                    <ComboBox
                        id="idowner"
                        showSecondaryValues="true"
                        selectedKey="{AppState>/showTaskInActivity/responsible_ID}"
                        editable="false"
                        items="{
                                            path: '/Employee'
                                        }"
                    >
                        <core:ListItem
                            key="{ID}"
                            text="{name}"
                        />
                    </ComboBox>
                    <Label text="Is Critical to Milestone" />
                    <CheckBox
                        id="idCriticalToMilestone"
                        editable="false"
                        selected="{AppState>/showTaskInActivity/isCriticalToMilestone}"
                    />
                    <Label
                        text="Contribute to Milestone"
                        visible="{= ${AppState>/showTaskInActivity/isCriticalToMilestone} ? true : false}"
                        required="true"
                    />
                    <ComboBox
                        id="idMilestone"
                        showSecondaryValues="true"
                        selectedKey="{AppState>/showTaskInActivity/contributeToMilestone_ID}"
                        editable="false"
                        items="{
                                            path: '/Milestone'
                                        }"
                    >
                        <core:ListItem
                            key="{ID}"
                            text="{name}"
                        />
                    </ComboBox>
                    <Label text="State" />
                    <Input
                        value="{AppState>/showTaskInActivity/state}"
                        editable="false"
                    />
                    <Label text="Status" />
                    <Input
                        value="{AppState>/showTaskInActivity/status}"
                        editable="false"
                    />
                </form:content>
            </form:SimpleForm>
        </content>
        <beginButton>
            
        </beginButton>
        <endButton>
            <Button
                text="Cancel"
                press="onCloseShowTaskInActivity"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
