<core:FragmentDefinition
    xmlns="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
>
    <ObjectPageLayout
        id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        alwaysShowContentHeader="false"
        preserveHeaderStateOnScroll="false"
        headerContentPinnable="true"
        isChildPage="true"
        upperCaseAnchorBar="false"
    >
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title
                        text="{AppState>/oSelectedProject/ID}"
                        wrapping="true"
                    />
                </expandedHeading>
                <actions>
                    <m:Button
                        text="Manage Activities"
                        type="Emphasized"
                        press="onManageActivity"
                        visible="{= ${AppState>/oSelectedTask/name} ? true : false }"
                    />
                    <m:Button
                        text="Save"
                        icon="sap-icon://save"
                        type="Emphasized"
                        press="onSaveTask"
                    />
                    <m:Button
                        icon="sap-icon://decline"
                        type="Emphasized"
                        press="onCloseDetailPage"
                    />
                </actions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <headerContent>
            <m:FlexBox
                wrap="Wrap"
                fitContainer="true"
                alignItems="Stretch"
            >
               
            </m:FlexBox>
        </headerContent>

        <sections>
            <ObjectPageSection title="{= ${AppState>/makeTaskMilestoneVisiblity/taskvisiblity} ? 'Task Details' : 'Milestone Details'}">
                <subSections>
                    <ObjectPageSubSection>
                        <blocks>
                            <form:SimpleForm
                                id="SimpleFormChange354"
                                editable="true"
                                layout="ResponsiveGridLayout"
                                title=""
                                labelSpanXL="3"
                                labelSpanL="3"
                                labelSpanM="3"
                                labelSpanS="12"
                                adjustLabelSpan="false"
                                emptySpanXL="4"
                                emptySpanL="4"
                                emptySpanM="4"
                                emptySpanS="0"
                                columnsXL="1"
                                columnsL="1"
                                columnsM="1"
                                singleContainerFullSize="false"
                            >
                                <form:content>
                                    <m:Label text="Task Name" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:Input
                                        id="name"
                                        value="{AppState>/oSelectedTask/name}"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                    />

                                    <m:Label text="Task Description" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <!-- <m:Input value="Framsys Roadmap" editable="false"/> -->
                                    <m:TextArea value="{AppState>/oSelectedTask/description}" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />

                                    <m:Label text="Project Planned Start" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:DatePicker
                                        id="pstart"
                                        value="{AppState>/oSelectedTask/planned_start}"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                    />

                                    <m:Label text="Project Planned End" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:DatePicker
                                        id="pend"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                        value="{AppState>/oSelectedTask/planned_finish}"
                                    />

                                    <m:Label text="Forecasted / Actual Start" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:DatePicker
                                        editable="false"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                        value="{AppState>/oSelectedTask/fore_act_start}"
                                    />

                                    <m:Label text="Forecasted / Actual End" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:DatePicker
                                        editable="false"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                        value="{AppState>/oSelectedTask/fore_act_finish}"
                                    />

                                    <m:Label text="Task Progress" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:Input value="{AppState>/oSelectedTask/pct_complete}" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />

                                    <m:Label text="Phase" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:ComboBox
                                        showSecondaryValues="true"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                        selectedKey="{AppState>/oSelectedTask/phase_ID}"
                                        items="{
					path: '/TemplatePhase'
				}"
                                    >
                                        <core:ListItem
                                            key="{ID}"
                                            text="{name}"
                                        />
                                    </m:ComboBox>
                                    <m:Label text="Area" visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}" />
                                    <m:ComboBox
                                        showSecondaryValues="true"
                                        selectedKey="{AppState>/oSelectedTask/area_ID}"
                                        visible="{AppState>/makeTaskMilestoneVisiblity/taskvisiblity}"
                                        items="{
					path: '/TemplateArea'
				}"
                                    >
                                        <core:ListItem
                                            key="{ID}"
                                            text="{name}"
                                        />
                                    </m:ComboBox>
                                    <m:Label text="Milestone Name" visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}"></m:Label>
                                    <m:Input visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}" ></m:Input>
                                    <m:Label text="Description" visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}"></m:Label>
                                    <m:Input visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}" ></m:Input>
                                    <m:Label text="Target Achievement Date" visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}"></m:Label>
                                    <m:Input visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}" ></m:Input>
                                    <m:Label text="Status" visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}"></m:Label>
                                    <m:Input visible="{AppState>/makeTaskMilestoneVisiblity/milestonevisiblity}" ></m:Input>
                                </form:content>
                            </form:SimpleForm>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>
    </ObjectPageLayout>
</core:FragmentDefinition>