<core:FragmentDefinition xmlns="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form">
    <ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" alwaysShowContentHeader="false" preserveHeaderStateOnScroll="false" headerContentPinnable="true" isChildPage="true" upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="{AppState>/oSelectedClientObject/id}" wrapping="true" visible="false" />
                </expandedHeading>
                <actions>
                    <m:Button id="saveLeadDetails" text="Save" icon="sap-icon://save" type="Critical" press="onSaveClientDetails" />

                    <m:Button icon="sap-icon://decline" type="Critical" press="onCloseDetailPage" />
                    <m:Button id="deleteProject" icon="sap-icon://delete" type="Critical" press="onDeleteProject" />
                </actions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <headerContent>
            <m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Stretch" />
        </headerContent>

        <sections>
            <ObjectPageSection title="Client Details">
                <subSections>
                    <ObjectPageSubSection>
                        <blocks>
                            <form:SimpleForm id="SimpleFormChange354" editable="true" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
                                <form:content>
                                    <m:Label text="Client Name" required="true" />
                                    <m:Input id="idClientName" value="{AppState>/oSelectedClientObject/name}" />

                                    <m:Label text="Client Email" />
                                    <m:Input id="idPhoneEmailInput" value="{path:'AppState>/oSelectedClientObject/email', type: 'sap.ui.model.type.String', constraints: { 
        format: 'email',
        search: '^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$' 
    }}" />

                                    <m:Label text="Client Phone Number" />
                                    <m:Input id="idPhoneNumber" liveChange="onMobileNumberLiveChange" value="{path:'AppState>/oSelectedClientObject/phone',
        type: 'sap.ui.model.type.String',
        constraints: {
            minLength: 8, 
            maxLength: 15, 
           pattern: '^[+]?[0-9]+$'
        
        }}" />
                                    <m:Label text="Client Profession" />
                                    <m:Input id="idClientProfession" value="{AppState>/oSelectedClientObject/profession}" change="onChangeDate" />
                                    <m:Label text="Client Budget" />
                                    <!-- <m:Input value="{AppState>/oSelectedProject/currency}" /> -->
                                    <m:Input value="{AppState>/oSelectedClientObject/budgetrange}" type="Number"/>
                                    <m:Label text="Currency" />
                                    <!-- <m:Input id="idCurrency" value="{AppState>/oSelectedClientObject/currency}" editable="true" /> -->
                                    <m:ComboBox showSecondaryValues="true" id="idCurrency" selectedKey="{AppState>/oSelectedClientObject/currency}" items="{
                                            path: 'currencymodel>/',
    length: 10000
                                        }">
                                        <core:ListItem key="{currencymodel>key}" text="{currencymodel>text}" additionalText="{currencymodel>symbol}" />
                                    </m:ComboBox>
                                    <m:Label text="Client Address" />
                                    <m:TextArea id="idClientAddress" value="{AppState>/oSelectedClientObject/address}" cols="20" rows="4"/>

                                    <m:Label text="Service Required" />
                                    <!-- <m:Input id="idServiceRequired" value="{AppState>/oSelectedClientObject/servicerequired}"/> -->
                                     <m:ComboBox showSecondaryValues="true" id="idServiceRequired" selectedKey="{AppState>/oSelectedClientObject/servicerequired}" items="{
                                            path: 'AppState>/services',
    length: 10000
                                        }">
                                        <core:ListItem key="{AppState>id}" text="{AppState>name}"  />
                                    </m:ComboBox>

                                    <m:Label text="Country" />
                                    <m:ComboBox showSecondaryValues="true" id="idCountry" selectedKey="{AppState>/oSelectedClientObject/country}" items="{
                                            path: 'countrymodel>/',
    length: 10000
                                        }">
                                        <core:ListItem key="{countrymodel>key}" text="{countrymodel>text}"  />
                                    </m:ComboBox>

                                    <m:Label text="City" />
<m:ComboBox showSecondaryValues="true" id="idCity" selectedKey="{AppState>/oSelectedClientObject/city}" items="{ 
    path: 'citymodel>/',
    length: 10000
}">
    <core:ListItem key="{citymodel>key}" text="{citymodel>text}"  />
</m:ComboBox>
                                </form:content>
                            </form:SimpleForm>

                        </blocks>
                    </ObjectPageSubSection>





                </subSections>
            </ObjectPageSection>
        </sections>
    </ObjectPageLayout>
</core:FragmentDefinition>